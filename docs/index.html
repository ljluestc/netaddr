<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NetAddr - Network Address Manipulation Library</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container-fluid">
        <header class="bg-primary text-white py-4 mb-4">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <h1 class="display-4 mb-0">
                            <i class="bi bi-diagram-3"></i>
                            NetAddr
                        </h1>
                        <p class="lead mb-0">Network Address Manipulation Library - Rust WASM Demo</p>
                    </div>
                    <div class="col-md-4 text-end">
                        <a href="https://github.com/netaddr/netaddr-rust" class="btn btn-outline-light">
                            <i class="bi bi-github"></i> View on GitHub
                        </a>
                    </div>
                </div>
            </div>
        </header>

        <div class="container">
            <div class="row">
                <div class="col-lg-8">
                    <!-- Tab Navigation -->
                    <ul class="nav nav-tabs mb-4" id="toolTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="ip-tab" data-bs-toggle="tab" data-bs-target="#ip-panel" type="button" role="tab">
                                <i class="bi bi-router"></i> IP Address
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="network-tab" data-bs-toggle="tab" data-bs-target="#network-panel" type="button" role="tab">
                                <i class="bi bi-diagram-2"></i> Network
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="mac-tab" data-bs-toggle="tab" data-bs-target="#mac-panel" type="button" role="tab">
                                <i class="bi bi-ethernet"></i> MAC Address
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="tools-tab" data-bs-toggle="tab" data-bs-target="#tools-panel" type="button" role="tab">
                                <i class="bi bi-tools"></i> Tools
                            </button>
                        </li>
                    </ul>

                    <!-- Tab Content -->
                    <div class="tab-content" id="toolTabContent">
                        <!-- IP Address Panel -->
                        <div class="tab-pane fade show active" id="ip-panel" role="tabpanel">
                            <div class="card">
                                <div class="card-header">
                                    <h5 class="mb-0"><i class="bi bi-router"></i> IP Address Analysis</h5>
                                </div>
                                <div class="card-body">
                                    <div class="mb-3">
                                        <label for="ipInput" class="form-label">IP Address</label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" id="ipInput" placeholder="e.g., 192.168.1.1 or 2001:db8::1">
                                            <button class="btn btn-primary" type="button" onclick="analyzeIP()">
                                                <i class="bi bi-search"></i> Analyze
                                            </button>
                                        </div>
                                        <div class="form-text">Enter an IPv4 or IPv6 address to analyze</div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-6">
                                            <button class="btn btn-outline-secondary btn-sm me-2" onclick="setExample('192.168.1.1')">IPv4 Example</button>
                                            <button class="btn btn-outline-secondary btn-sm" onclick="setExample('2001:db8::1')">IPv6 Example</button>
                                        </div>
                                        <div class="col-md-6 text-end">
                                            <button class="btn btn-outline-info btn-sm me-2" onclick="getNextIP()">
                                                <i class="bi bi-arrow-right"></i> Next IP
                                            </button>
                                            <button class="btn btn-outline-info btn-sm" onclick="getPrevIP()">
                                                <i class="bi bi-arrow-left"></i> Prev IP
                                            </button>
                                        </div>
                                    </div>

                                    <div id="ipResult" class="mt-4"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Network Panel -->
                        <div class="tab-pane fade" id="network-panel" role="tabpanel">
                            <div class="card">
                                <div class="card-header">
                                    <h5 class="mb-0"><i class="bi bi-diagram-2"></i> Network Analysis</h5>
                                </div>
                                <div class="card-body">
                                    <div class="mb-3">
                                        <label for="networkInput" class="form-label">Network (CIDR)</label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" id="networkInput" placeholder="e.g., 192.168.1.0/24 or 2001:db8::/64">
                                            <button class="btn btn-primary" type="button" onclick="analyzeNetwork()">
                                                <i class="bi bi-search"></i> Analyze
                                            </button>
                                        </div>
                                        <div class="form-text">Enter a network in CIDR notation</div>
                                    </div>

                                    <div class="row mb-3">
                                        <div class="col-md-8">
                                            <button class="btn btn-outline-secondary btn-sm me-2" onclick="setNetworkExample('192.168.1.0/24')">Private IPv4</button>
                                            <button class="btn btn-outline-secondary btn-sm me-2" onclick="setNetworkExample('10.0.0.0/8')">Class A Private</button>
                                            <button class="btn btn-outline-secondary btn-sm" onclick="setNetworkExample('2001:db8::/64')">IPv6 Example</button>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="input-group input-group-sm">
                                                <label class="input-group-text" for="subnetPrefix">Subnet to /<label>
                                                <input type="number" class="form-control" id="subnetPrefix" placeholder="28" min="1" max="32">
                                                <button class="btn btn-outline-success" onclick="subnetNetwork()">Subnet</button>
                                            </div>
                                        </div>
                                    </div>

                                    <div id="networkResult" class="mt-4"></div>
                                </div>
                            </div>
                        </div>

                        <!-- MAC Address Panel -->
                        <div class="tab-pane fade" id="mac-panel" role="tabpanel">
                            <div class="card">
                                <div class="card-header">
                                    <h5 class="mb-0"><i class="bi bi-ethernet"></i> MAC Address Analysis</h5>
                                </div>
                                <div class="card-body">
                                    <div class="mb-3">
                                        <label for="macInput" class="form-label">MAC Address</label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" id="macInput" placeholder="e.g., 00:11:22:33:44:55 or 00-11-22-33-44-55">
                                            <button class="btn btn-primary" type="button" onclick="analyzeMAC()">
                                                <i class="bi bi-search"></i> Analyze
                                            </button>
                                        </div>
                                        <div class="form-text">Enter a MAC address in any common format</div>
                                    </div>

                                    <button class="btn btn-outline-secondary btn-sm me-2" onclick="setMACExample('00:11:22:33:44:55')">Standard Format</button>
                                    <button class="btn btn-outline-secondary btn-sm me-2" onclick="setMACExample('00-11-22-33-44-55')">Dash Format</button>
                                    <button class="btn btn-outline-secondary btn-sm" onclick="setMACExample('001122334455')">Compact Format</button>

                                    <div id="macResult" class="mt-4"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Tools Panel -->
                        <div class="tab-pane fade" id="tools-panel" role="tabpanel">
                            <div class="card">
                                <div class="card-header">
                                    <h5 class="mb-0"><i class="bi bi-tools"></i> Network Tools</h5>
                                </div>
                                <div class="card-body">
                                    <div class="mb-3">
                                        <label for="ipSetInput" class="form-label">IP Set Operations</label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" id="ipSetInput" placeholder="e.g., 192.168.1.1,192.168.1.0/24,10.0.0.1">
                                            <button class="btn btn-primary" type="button" onclick="createIPSet()">
                                                <i class="bi bi-collection"></i> Create Set
                                            </button>
                                        </div>
                                        <div class="form-text">Enter comma-separated IP addresses and networks</div>
                                    </div>

                                    <button class="btn btn-outline-secondary btn-sm" onclick="setIPSetExample()">Example Set</button>

                                    <div id="toolsResult" class="mt-4"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4">
                    <!-- Status and Info -->
                    <div class="card mb-4">
                        <div class="card-header">
                            <h6 class="mb-0"><i class="bi bi-info-circle"></i> Library Status</h6>
                        </div>
                        <div class="card-body">
                            <div id="loadingStatus" class="text-muted">
                                <div class="spinner-border spinner-border-sm me-2" role="status"></div>
                                Loading WASM module...
                            </div>
                            <div id="readyStatus" class="text-success d-none">
                                <i class="bi bi-check-circle me-2"></i>
                                Ready! NetAddr WASM module loaded.
                            </div>
                            <div id="errorStatus" class="text-danger d-none">
                                <i class="bi bi-exclamation-circle me-2"></i>
                                Error loading WASM module.
                            </div>
                        </div>
                    </div>

                    <!-- Features -->
                    <div class="card">
                        <div class="card-header">
                            <h6 class="mb-0"><i class="bi bi-star"></i> Features</h6>
                        </div>
                        <div class="card-body">
                            <ul class="list-unstyled mb-0">
                                <li><i class="bi bi-check text-success me-2"></i> IPv4 and IPv6 address parsing</li>
                                <li><i class="bi bi-check text-success me-2"></i> Network CIDR notation support</li>
                                <li><i class="bi bi-check text-success me-2"></i> MAC address manipulation</li>
                                <li><i class="bi bi-check text-success me-2"></i> Address classification (private, public, etc.)</li>
                                <li><i class="bi bi-check text-success me-2"></i> Subnet operations</li>
                                <li><i class="bi bi-check text-success me-2"></i> Set-based operations</li>
                                <li><i class="bi bi-check text-success me-2"></i> Binary and hex conversions</li>
                                <li><i class="bi bi-check text-success me-2"></i> Reverse DNS lookup generation</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <footer class="mt-5 py-4 bg-light text-center">
            <p class="mb-0 text-muted">
                NetAddr Rust Library - Compiled to WebAssembly
                <br>
                <small>This demo runs entirely in your browser with no server-side processing</small>
            </p>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="app.js"></script>
</body>
</html>